import os
import requests

# Step 1: Download the ZIP file
url = "https://www.dropbox.com/scl/fi/6y2xhv0uw13zdb3v1h6xw/ulo.zip?rlkey=qafy53yxtrd9rgztav7n1o9ub&dl=1"
filename = os.path.join("ulo.zip")
with requests.get(url, stream=True) as r:
    r.raise_for_status()
    with open(filename, 'wb') as f:
        for chunk in r.iter_content(chunk_size=8192):  # Adjust chunk size as needed
            f.write(chunk)

print("Downloaded the ZIP file.")

# Step 2: Extract the ZIP file
# Use the 'tar' command on Windows, ensure tar is available on your system; else, you may need other utilities like 7-Zip
extract_command = f"tar -xf {filename}"
print(extract_command)
os.system(extract_command)
print("Extracted the ZIP file.")

# Step 3: Execute the program
# Modify paths as necessary according to the actual structure inside your ZIP file
# This assumes 'run.py' is in the root of the 'ulo' folder after extraction
print(f'Executing the program...')
os.system(f'cd ulo && python run.py')

print("Executed the program.")
